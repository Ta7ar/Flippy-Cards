(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{36:function(e,t,a){e.exports=a(64)},41:function(e,t,a){},64:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(34),c=a.n(l),o=(a(41),a(13)),i=a(14),s=a(18),u=a(17),m=a(8);var d=function(e){var t=e.toggleTheme,a=e.isLoggedIn,n=e.toggleLoggedIn;return a?r.a.createElement("div",{className:"navbar"},r.a.createElement("div",null,r.a.createElement(m.b,{to:"/"},"Home")),r.a.createElement("div",null,r.a.createElement(m.b,{to:"/createdeck"},"Create Deck")),r.a.createElement("div",null,r.a.createElement(m.b,{to:"/login",onClick:function(){localStorage.removeItem("auth-token"),n(!1)}},"Logout")),r.a.createElement("div",{onClick:t},r.a.createElement("i",{className:"far fa-moon"}))):r.a.createElement("div",{className:"navbar"},r.a.createElement("div",null,r.a.createElement(m.b,{to:"/"},"Home")),r.a.createElement("div",null,r.a.createElement(m.b,{to:"/signup"},"Signup")),r.a.createElement("div",null,r.a.createElement(m.b,{to:"/login"},"Login")),r.a.createElement("div",{onClick:t},r.a.createElement("i",{className:"far fa-moon"})))},g=a(1),E=a(2);var f=function(){return r.a.createElement("div",{className:"spinner"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null))},p=a(10).default;var h=function(){var e=Object(n.useState)(""),t=Object(E.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(""),o=Object(E.a)(c,2),i=o[0],s=o[1],u=Object(n.useState)(""),m=Object(E.a)(u,2),d=m[0],g=m[1],h=Object(n.useState)(!1),v=Object(E.a)(h,2),k=v[0],b=v[1];return r.a.createElement("div",null,r.a.createElement("div",{className:"form login"},r.a.createElement("form",null,r.a.createElement("label",null,"Username:",r.a.createElement("br",null),r.a.createElement("input",{type:"text",onChange:function(e){l(e.target.value)}})),r.a.createElement("label",null,"Password:",r.a.createElement("br",null),r.a.createElement("input",{type:"password",onChange:function(e){s(e.target.value)}})),r.a.createElement("div",null,r.a.createElement("button",{onClick:function(e){e.preventDefault(),b(!0),p.post("/api/user/login",{name:a,password:i}).then((function(e){b(!1),g("Logged in"),localStorage.setItem("auth-token",e.data),window.location.href="/"})).catch((function(e){b(!1),g(e.response.data)}))}},"Log in")))),d&&r.a.createElement("p",{style:{textAlign:"center",padding:"1rem"}},d),k&&r.a.createElement(f,null))},v=a(10).default;var k=function(){var e=Object(n.useState)(""),t=Object(E.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(""),o=Object(E.a)(c,2),i=o[0],s=o[1],u=Object(n.useState)(""),m=Object(E.a)(u,2),d=m[0],g=m[1],p=Object(n.useState)(""),h=Object(E.a)(p,2),k=h[0],b=h[1],C=Object(n.useState)(!1),O=Object(E.a)(C,2),j=O[0],S=O[1];return r.a.createElement("div",null,r.a.createElement("div",{className:"form signup"},r.a.createElement("form",null,r.a.createElement("label",null,"Username:",r.a.createElement("br",null),r.a.createElement("input",{placeholder:"Minimum 3 Characters",type:"text",onChange:function(e){l(e.target.value)}})),r.a.createElement("label",null,"Password:",r.a.createElement("br",null),r.a.createElement("input",{placeholder:"Minimum 6 Characters",type:"password",onChange:function(e){s(e.target.value)}})),r.a.createElement("label",null,"Confirm Password:",r.a.createElement("br",null),r.a.createElement("input",{placeholder:"Minimum 6 Characters",type:"password",onChange:function(e){g(e.target.value)}})),r.a.createElement("div",null,r.a.createElement("button",{onClick:function(e){if(S(!0),e.preventDefault(),i!==d)return S(!1),b("Passwords do not match");v.post("/api/user/register",{name:a,password:i}).then((function(e){S(!1),b(e.data)})).catch((function(e){S(!1),b(e.response.data)}))}},"Sign up")))),k&&r.a.createElement("p",{style:{textAlign:"center",padding:"1rem"}},k),j&&r.a.createElement(f,null))};var b=function(e){var t=e.children,a=t.question,l=t.answer,c=Object(n.useState)(!1),o=Object(E.a)(c,2),i=o[0],s=o[1];return r.a.createElement("div",{className:"card ".concat(i?"flip":""),onClick:function(){s(!i)}},r.a.createElement("div",{className:"front"},r.a.createElement("h4",null,a)),r.a.createElement("div",{className:"back"},r.a.createElement("h4",null,l)))};var C=function(e){var t=e.children,a=e.toggle,l=Object(n.useState)(0),c=Object(E.a)(l,2),o=c[0],i=c[1];return r.a.createElement("div",{className:"cards-view"},r.a.createElement("button",{onClick:function(){a(!1)}},"\u2716"),r.a.createElement("div",{className:"chevron left",onClick:function(){0!==o&&i(o-1)}},"\u2039"),r.a.createElement(b,null,t[o]),r.a.createElement("div",{className:"chevron right",onClick:function(){o!==t.length-1&&i(o+1)}},"\u203a"),r.a.createElement("div",{className:"current-card"},o+1))},O=a(10).default;var j=function(e){var t=e.children,a=e.getDecks,l=t.name,c=t.cards,o=t._id,i=Object(n.useState)(!1),s=Object(E.a)(i,2),u=s[0],m=s[1],d=Object(n.useState)(!1),g=Object(E.a)(d,2),f=g[0],p=g[1];return f?r.a.createElement(C,{toggle:p},c):r.a.createElement("div",{className:"deck-tile-container",style:{display:"inline-block",position:"relative"}},r.a.createElement("div",{onClick:function(){p(!0)},className:"deck-tile"},r.a.createElement("p",null,l),r.a.createElement("button",{onClick:function(e){e.stopPropagation(),m(!u)}},"\u2716")),u&&r.a.createElement("button",{className:"popover",onClick:function(e){e.stopPropagation();var t=localStorage.getItem("auth-token");O.post("api/deletedeck",{_id:o},{headers:{"auth-token":t}}).then((function(e){a()})).catch((function(e){if(e)throw e})),m(!1)}},"Delete Deck"))},S=a(10).default;var w=function(e){var t=e.isLoggedIn,a=Object(n.useState)([]),l=Object(E.a)(a,2),c=l[0],o=l[1],i=Object(n.useState)(!0),s=Object(E.a)(i,2),u=s[0],m=s[1],d=function(){var e=localStorage.getItem("auth-token");S.get("/api/decks",{headers:{"auth-token":e}}).then((function(e){o(e.data),m(!1)})).catch((function(e){if(e)throw e}))};return Object(n.useEffect)(d,[]),t?r.a.createElement("div",{className:"home",style:{padding:"1rem"}},u&&r.a.createElement(f,null),c.map((function(e){return r.a.createElement(j,{getDecks:d},e)}))):r.a.createElement("div",null,r.a.createElement(b,null,{question:"Click Me to get started!",answer:"Create an account, log in, make your deck of cards and use them!"}))};var y=function(e){var t=e.children,a=e.path;return e.accessible?r.a.createElement(g.b,{path:a,exact:!0},t):r.a.createElement(g.b,{path:a,exact:!0},r.a.createElement(g.a,{to:"/"}))},N=a(23),D=a(16),I=a(22);var M=function(e){var t=e.isOpen,a=e.toggle,n=e.children;return t?r.a.createElement("div",{className:"modal-canvas",onClick:a},r.a.createElement("div",{className:"modal-body",onClick:function(e){e.stopPropagation()}},n)):null};var A=function(e){var t=e.card,a=e.index,n=e.deleteCard,l=t.question,c=t.answer;return r.a.createElement("div",{style:{padding:"1rem"}},"Question: ",l,", Answer: ",c,r.a.createElement("button",{onClick:function(e){e.preventDefault(),n(a)},style:{width:"2rem",height:"2rem",margin:"1rem",backgroundColor:"#F40000"}},"\u2716"))},L=a(10).default,x=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={message:"",deck:[],currentCard:{question:"",answer:""},AddCardModal:!1,CreateDeckModal:!1,deckName:""},e.handleCardOps=function(t,a){e.setState({currentCard:Object(I.a)(Object(I.a)({},e.state.currentCard),{},Object(D.a)({},a,t.target.value.trim()))})},e.addCard=function(t){if(t.preventDefault(),!e.state.currentCard.question.trim()||!e.state.currentCard.answer.trim())return e.setState({message:"Fields Cannot be Empty"});document.getElementById("question").value="",document.getElementById("answer").value="",e.setState({deck:[].concat(Object(N.a)(e.state.deck),[e.state.currentCard]),currentCard:{question:"",answer:""},message:""})},e.toggleAddCardModal=function(){e.setState({AddCardModal:!e.state.AddCardModal})},e.toggleCreateDeckModal=function(){if(0===e.state.deck.length)return e.setState({message:"Cannot create deck with no cards"});e.setState({message:""}),e.setState({CreateDeckModal:!e.state.CreateDeckModal})},e.deleteCard=function(t){var a=Object(N.a)(e.state.deck);a=a.filter((function(e,a){return a!==t})),e.setState({deck:a},(function(){if(0===a.length)return e.toggleAddCardModal()}))},e.createDeck=function(){if(""===e.state.deckName.trim())return e.setState({message:"Name your deck"});if(0===e.state.deck.length)return e.setState({message:"Cannot create a deck with no cards"});if(e.state.deckName.trim().length>25)return e.setState({message:"Deck name is too long"});var t=localStorage.getItem("auth-token"),a=e.state,n=a.deck,r=a.deckName;L.post("api/createdeck",{deckName:r,deck:n},{headers:{"auth-token":t}}).then((function(t){return e.setState({message:t.data,CreateDeckModal:!1,deck:[]})})).catch((function(t){if(t)return e.setState({message:t.response.data})}))},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.deck,n=t.message,l=t.AddCardModal,c=t.CreateDeckModal;return r.a.createElement("div",{className:"deck-creator"},r.a.createElement("div",{className:"card-counter",onClick:function(){if(a.length>0)return e.toggleAddCardModal()}},a.length),r.a.createElement("div",{className:"form"},r.a.createElement("form",null,r.a.createElement("label",null,"Question",r.a.createElement("input",{id:"question",type:"text",onChange:function(t){e.handleCardOps(t,"question")}})),r.a.createElement("label",null,"Answer",r.a.createElement("input",{id:"answer",onChange:function(t){e.handleCardOps(t,"answer")},type:"text"})),r.a.createElement("div",null,r.a.createElement("button",{style:{margin:"1rem"},onClick:this.addCard},"Add Card"),r.a.createElement("button",{style:{margin:"1rem"},onClick:function(t){t.preventDefault(),e.toggleCreateDeckModal()}},"Create Deck")))),n&&r.a.createElement("p",{style:{textAlign:"center",padding:"1rem"}},n),r.a.createElement(M,{isOpen:l,toggle:this.toggleAddCardModal},a.map((function(t,a){return r.a.createElement(A,{card:t,index:a,deleteCard:e.deleteCard})}))),r.a.createElement(M,{isOpen:c,toggle:this.toggleCreateDeckModal},r.a.createElement("form",null,r.a.createElement("label",null,"Deck Name:",r.a.createElement("br",null),r.a.createElement("input",{type:"text",style:{marginTop:"1rem"},onChange:function(t){e.setState({deckName:t.target.value})},placeholder:"Maximum 25 characters"}))),r.a.createElement("button",{style:{marginTop:"1rem"},onClick:this.createDeck},"Create Deck")))}}]),a}(n.Component),q=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={isDark:!1,isLoggedIn:!1},e.toggleTheme=function(){localStorage.setItem("theme",JSON.stringify(!e.state.isDark)),e.setState({isDark:!e.state.isDark})},e.toggleLoggedIn=function(t){e.setState({isLoggedIn:t})},e.componentWillMount=function(){var t=localStorage.getItem("theme");return t&&e.setState({isDark:JSON.parse(t)}),e.jwt=localStorage.getItem("auth-token"),e.jwt?e.toggleLoggedIn(!0):e.toggleLoggedIn(!1)},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this.state,t=e.isDark,a=e.isLoggedIn;return r.a.createElement(m.a,null,r.a.createElement("div",{className:"App ".concat(t?"dark":"light"," ")},r.a.createElement(d,{toggleTheme:this.toggleTheme,isLoggedIn:a,toggleLoggedIn:this.toggleLoggedIn}),r.a.createElement(g.d,null,r.a.createElement(g.b,{path:"/",exact:!0},r.a.createElement(w,{isLoggedIn:a})),r.a.createElement(y,{accessible:!a,path:"/signup"},r.a.createElement(k,null)),r.a.createElement(y,{accessible:!a,path:"/login"},r.a.createElement(h,null)),r.a.createElement(y,{path:"/createdeck",accessible:a},r.a.createElement(x,null)),r.a.createElement(g.b,{render:function(){return r.a.createElement(g.a,{to:{pathname:"/"}})}}))))}}]),a}(n.Component);c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(q,null)),document.getElementById("root"))}},[[36,1,2]]]);
//# sourceMappingURL=main.3efc8526.chunk.js.map